<!DOCTYPE html>
<head>

	<h2> Click this button to display the JSON content </h2>
	
</head>

<body>

<style>
#map-canvas{
border-style: solid;
border-width: 5px;
height: 60%;
width: 40%;
}
</style>

<table id="table">
<tr>
<th> firstName </th>
<th> lastName </th>
</tr>
</table> 

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"> </script>
<!--<script type="text/javascript"src="https://www.google.com/jsapi?key=">-->
<!--<script src="https://maps.google.com/maps?file=api&amp;v=2&amp;key=AIzaSyDKV-fEFcpam9_ci1RxZlxRZq3X0FOpDlM" 
            type="text/javascript"></script>
<script type="text/javascript"charset="utf-8">google.load("maps","2.x"); google.load("jquery","1.3.1");</script>
-->
<!--<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDKV-fEFcpam9_ci1RxZlxRZq3X0FOpDlM&signed_in=true&callback=initMap"></script>
-->
<script
src="https://maps.googleapis.com/maps/api/js">
</script>

<script>
var myCenter=new google.maps.LatLng(51.508742,-0.120850);
var marker;

function initialize()
{


var mapProp = {
  center:myCenter,
  zoom:5,
  mapTypeId:google.maps.MapTypeId.ROADMAP
  };

var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);

var marker=new google.maps.Marker({
  position:myCenter,
  animation:google.maps.Animation.BOUNCE
  });

marker.setMap(map);
}

google.maps.event.addDomListener(window, 'load', initialize);
</script>


<script>
     $(document).ready(function(){
    // $("#googleMap").hide();
	initMap();
	
	
	

	
	
	
	
	$("#click").click(function(){
	//$("#googleMap").show();
    $.ajax({
        url: '/json',
	type: 'GET',
        dataType: "json",
	
        success: function(data) {
		console.log("success");
	var txt = '';
	for(var i = 0, size = data.length; i < size ; i++)
	{
   var item = data[i];
   txt = txt + "<tr><td id = td>"+ item.firstName + "</td><td>" + item.lastName+"</td><td>";
   
    } 
    console.log(txt);
    
    var length= $("#table").find('td:td').length;	
	console.log(length);

	if(length==0){
	$("#table").append(txt);
	}
	
	
	}
   });
 });
 
 
 
 
 
 
 
 
 	
 });
	
</script>
 
 
<!--<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
  //  <script> -->
    
<script>
    var locations = [
      ['Bondi Beach', -33.890542, 151.274856, 4],
      ['Coogee Beach', -33.923036, 151.259052, 5],
      ['Cronulla Beach', -34.028249, 151.157507, 3],
      ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],
      ['Maroubra Beach', -33.950198, 151.259302, 1]
    ];

    var map = new google.maps.Map(document.getElementById('googleMap'), {
      zoom: 10,
      center: new google.maps.LatLng(-33.92, 151.25),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });

    var infowindow = new google.maps.InfoWindow();

    var marker, i;

    for (i = 0; i < locations.length; i++) {  
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(locations[i][1], locations[i][2]),
        map: map
      });

      google.maps.event.addListener(marker, 'click', (function(marker, i) {
        return function() {
          infowindow.setContent(locations[i][0]);
          infowindow.open(map, marker);
        }
      })(marker, i));
    }


/*
function initMap() {
  var myLatLng = {lat: -25.363, lng: 131.044};
var myLatLng2 = {lat: -20.363, lng: 125.044};

  var map = new google.maps.Map(document.getElementById('map-canvas'), {
    zoom: 4,
    center: myLatLng
  });

  var marker = new google.maps.Marker({
    position: myLatLng,
    map: map,
    title: 'Hello World!'
  });
  var marker = new google.maps.Marker({
    position: myLatLng2,
    map: map,
    title: 'Hello World!'
  });
}
*/
/*function initMap() {

var myLatLng = new google.maps.myLatLng(13.05,80.18);

// create a map object and specify the DOM element for display	
var map = new google.maps.Map(document.getElementById('map-canvas'), {
center: myLatLng,
scrollwheel: false,
zoom: 4,
});
}




function getLocation(data){
var map = new GMap2(document.getElementById('map-canvas'));
for(var i = 0, size = data.length; i < size ; i++)
	{
   var item = data[i];
   txt = item['location'];
   var locString=txt.split(',',2);
var lat=parseFloat(locString[0]);
var lon=parseFloat(locString[1]);
var point = new GLatLng(lat,lon); 
  marker = new GMarker(point); 
  map.addOverlay(marker); 
  //markers[i] = marker; 
    }  
}
*/

//google.maps.event.addDomListener(window, 'load', initialize);



  </script>




<br></br>  <br></br> 
<h3>Displaying location of JSON objects using Google Map </h3>  
<p>
<input id="myLatLng" type="text" value="13.05,80.18">

<button id="click" style="color:red; background-color:blue; border-radius:20px;" > Click map </button>
</p>
    <div id="map-canvas">
	
	 </div>
	
	<div id="googleMap" style="width:500px;height:380px;"></div> 
	
	
	
	
</body>
</html>  



